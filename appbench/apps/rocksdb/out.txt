+ DBHOME=/users/kannan11/ssd/prefetching/appbench/apps/rocksdb
+ THREAD=16
+ VALUE_SIZE=4096
+ SYNC=0
+ KEYSIZE=1000
+ WRITE_BUFF_SIZE=67108864
+ DBDIR=/users/kannan11/ssd/prefetching/appbench/apps/rocksdb/DATA
+ '[' -z /users/kannan11/ssd/prefetching/appbench/apps ']'
+ WORKLOAD=readrandom
+ WRITEARGS='--benchmarks=fillseq --use_existing_db=0 --threads=1'
+ READARGS='--benchmarks=readrandom --use_existing_db=1 --mmap_read=0 --threads=16'
+ APPPREFIX='/usr/bin/time -v'
+ APP=db_bench
+ APPOUTPUTNAME=ROCKSDB
+ RESULTS=RESULTS/readrandom
+ RESULTFILE=
+ mkdir -p RESULTS/readrandom
+ num_arr=("20000000")
+ declare -a num_arr
+ NUM=20000000
+ thread_arr=("16" "32" "8" "4" "1")
+ declare -a thread_arr
+ thread_arr=("32")
+ declare -a thread_arr
+ workload_arr=("readseq" "readrandom" "readwhilescanning" "readreverse" "multireadrandom")
+ declare -a workload_arr
+ USEDB=1
+ echo 'CAUTION, CAUTION, USE EXITING DB is set to 0 for write workload testing!!!'
CAUTION, CAUTION, USE EXITING DB is set to 0 for write workload testing!!!
+ echo 'CAUTION, CAUTION, USE EXITING DB is set to 0 for write workload testing!!'
CAUTION, CAUTION, USE EXITING DB is set to 0 for write workload testing!!
+ echo 'CAUTION, CAUTION, USE EXITING DB is set to 0 for write workload testing!!!'
CAUTION, CAUTION, USE EXITING DB is set to 0 for write workload testing!!!
+ echo 'CAUTION, CAUTION, USE EXITING DB is set to 0 for write workload testing!!!'
CAUTION, CAUTION, USE EXITING DB is set to 0 for write workload testing!!!
+ config_arr=("Cross_Info" "OSonly" "Vanilla" "Cross_Info_sync" "Cross_Blind" "CII" "CIP" "CIP_sync" "CIPI")
+ declare -a config_arr
+ ulimit -n 1000000
+ RUN
+ echo 'BEGINNING TO WARM UP .......'
BEGINNING TO WARM UP .......
+ cd /users/kannan11/ssd/prefetching/shared_libs/simple_prefetcher
+ /users/kannan11/ssd/prefetching/shared_libs/simple_prefetcher/compile.sh
sudo cp *.so /usr/local/lib
sudo cp *.so /usr/lib
sudo cp clear_os_stats /usr/bin
+ cd /users/kannan11/ssd/prefetching/appbench/apps/rocksdb
+ echo 'FINISHING WARM UP .......'
FINISHING WARM UP .......
+ echo ...................................................
...................................................
+ FlushDisk
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sleep 5
+ sudo dmesg -c
[40161.187681] sh (45781): drop_caches: 3
[40161.228158] sh (45786): drop_caches: 3
[40277.029620] sh (45866): drop_caches: 3
[40277.080209] sh (45871): drop_caches: 3
+ for NUM in "${num_arr[@]}"
+ for THREAD in "${thread_arr[@]}"
+ PARAMS='--db=/users/kannan11/ssd/prefetching/appbench/apps/rocksdb/DATA --value_size=4096 --wal_dir=/users/kannan11/ssd/prefetching/appbench/apps/rocksdb/DATA/WAL_LOG --sync=0 --key_size=1000 --write_buffer_size=67108864 --num=20000000  --seed=1576170874'
+ for WORKLOAD in "${workload_arr[@]}"
+ for CONFIG in "${config_arr[@]}"
+ RESULTS=
+ READARGS='--benchmarks=readseq --use_existing_db=1 --mmap_read=0 --threads=32'
+ GEN_RESULT_PATH readseq Cross_Info 32 20000000
+ WORKLOAD=readseq
+ CONFIG=Cross_Info
+ THREAD=32
+ let KEYCOUNT=20000000/1000000
+ RESULTS=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ RESULTFILE=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/Cross_Info.out
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ echo 'RUNNING Cross_Info and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/Cross_Info.out'
RUNNING Cross_Info and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/Cross_Info.out
+ echo ...................................................
...................................................
+ export LD_PRELOAD=/usr/lib/lib_Cross_Info.so
+ LD_PRELOAD=/usr/lib/lib_Cross_Info.so
+ export LD_PRELOAD=
+ LD_PRELOAD=
+ sudo dmesg -c
+ echo '.......FINISHING Cross_Info......................'
.......FINISHING Cross_Info......................
+ cat /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/Cross_Info.out
+ grep MB/s
+ FlushDisk
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sleep 5
+ for CONFIG in "${config_arr[@]}"
+ RESULTS=
+ READARGS='--benchmarks=readseq --use_existing_db=1 --mmap_read=0 --threads=32'
+ GEN_RESULT_PATH readseq OSonly 32 20000000
+ WORKLOAD=readseq
+ CONFIG=OSonly
+ THREAD=32
+ let KEYCOUNT=20000000/1000000
+ RESULTS=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ RESULTFILE=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/OSonly.out
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ echo 'RUNNING OSonly and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/OSonly.out'
RUNNING OSonly and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/OSonly.out
+ echo ...................................................
...................................................
+ export LD_PRELOAD=/usr/lib/lib_OSonly.so
+ LD_PRELOAD=/usr/lib/lib_OSonly.so
+ export LD_PRELOAD=
+ LD_PRELOAD=
+ sudo dmesg -c
+ echo '.......FINISHING OSonly......................'
.......FINISHING OSonly......................
+ cat /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/OSonly.out
+ grep MB/s
+ FlushDisk
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sleep 5
+ for CONFIG in "${config_arr[@]}"
+ RESULTS=
+ READARGS='--benchmarks=readseq --use_existing_db=1 --mmap_read=0 --threads=32'
+ GEN_RESULT_PATH readseq Vanilla 32 20000000
+ WORKLOAD=readseq
+ CONFIG=Vanilla
+ THREAD=32
+ let KEYCOUNT=20000000/1000000
+ RESULTS=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ RESULTFILE=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/Vanilla.out
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ echo 'RUNNING Vanilla and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/Vanilla.out'
RUNNING Vanilla and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/Vanilla.out
+ echo ...................................................
...................................................
+ export LD_PRELOAD=/usr/lib/lib_Vanilla.so
+ LD_PRELOAD=/usr/lib/lib_Vanilla.so
+ export LD_PRELOAD=
+ LD_PRELOAD=
+ sudo dmesg -c
+ echo '.......FINISHING Vanilla......................'
.......FINISHING Vanilla......................
+ cat /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/Vanilla.out
+ grep MB/s
+ FlushDisk
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sleep 5
+ for CONFIG in "${config_arr[@]}"
+ RESULTS=
+ READARGS='--benchmarks=readseq --use_existing_db=1 --mmap_read=0 --threads=32'
+ GEN_RESULT_PATH readseq Cross_Info_sync 32 20000000
+ WORKLOAD=readseq
+ CONFIG=Cross_Info_sync
+ THREAD=32
+ let KEYCOUNT=20000000/1000000
+ RESULTS=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ RESULTFILE=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/Cross_Info_sync.out
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ echo 'RUNNING Cross_Info_sync and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/Cross_Info_sync.out'
RUNNING Cross_Info_sync and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/Cross_Info_sync.out
+ echo ...................................................
...................................................
+ export LD_PRELOAD=/usr/lib/lib_Cross_Info_sync.so
+ LD_PRELOAD=/usr/lib/lib_Cross_Info_sync.so
+ export LD_PRELOAD=
+ LD_PRELOAD=
+ sudo dmesg -c
+ echo '.......FINISHING Cross_Info_sync......................'
.......FINISHING Cross_Info_sync......................
+ cat /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/Cross_Info_sync.out
+ grep MB/s
+ FlushDisk
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sleep 5
+ for CONFIG in "${config_arr[@]}"
+ RESULTS=
+ READARGS='--benchmarks=readseq --use_existing_db=1 --mmap_read=0 --threads=32'
+ GEN_RESULT_PATH readseq Cross_Blind 32 20000000
+ WORKLOAD=readseq
+ CONFIG=Cross_Blind
+ THREAD=32
+ let KEYCOUNT=20000000/1000000
+ RESULTS=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ RESULTFILE=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/Cross_Blind.out
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ echo 'RUNNING Cross_Blind and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/Cross_Blind.out'
RUNNING Cross_Blind and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/Cross_Blind.out
+ echo ...................................................
...................................................
+ export LD_PRELOAD=/usr/lib/lib_Cross_Blind.so
+ LD_PRELOAD=/usr/lib/lib_Cross_Blind.so
+ export LD_PRELOAD=
+ LD_PRELOAD=
+ sudo dmesg -c
+ echo '.......FINISHING Cross_Blind......................'
.......FINISHING Cross_Blind......................
+ cat /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/Cross_Blind.out
+ grep MB/s
+ FlushDisk
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sleep 5
+ for CONFIG in "${config_arr[@]}"
+ RESULTS=
+ READARGS='--benchmarks=readseq --use_existing_db=1 --mmap_read=0 --threads=32'
+ GEN_RESULT_PATH readseq CII 32 20000000
+ WORKLOAD=readseq
+ CONFIG=CII
+ THREAD=32
+ let KEYCOUNT=20000000/1000000
+ RESULTS=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ RESULTFILE=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/CII.out
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ echo 'RUNNING CII and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/CII.out'
RUNNING CII and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/CII.out
+ echo ...................................................
...................................................
+ export LD_PRELOAD=/usr/lib/lib_CII.so
+ LD_PRELOAD=/usr/lib/lib_CII.so
+ export LD_PRELOAD=
+ LD_PRELOAD=
+ sudo dmesg -c
+ echo '.......FINISHING CII......................'
.......FINISHING CII......................
+ cat /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/CII.out
+ grep MB/s
+ FlushDisk
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sleep 5
+ for CONFIG in "${config_arr[@]}"
+ RESULTS=
+ READARGS='--benchmarks=readseq --use_existing_db=1 --mmap_read=0 --threads=32'
+ GEN_RESULT_PATH readseq CIP 32 20000000
+ WORKLOAD=readseq
+ CONFIG=CIP
+ THREAD=32
+ let KEYCOUNT=20000000/1000000
+ RESULTS=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ RESULTFILE=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/CIP.out
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ echo 'RUNNING CIP and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/CIP.out'
RUNNING CIP and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/CIP.out
+ echo ...................................................
...................................................
+ export LD_PRELOAD=/usr/lib/lib_CIP.so
+ LD_PRELOAD=/usr/lib/lib_CIP.so
+ export LD_PRELOAD=
+ LD_PRELOAD=
+ sudo dmesg -c
+ echo '.......FINISHING CIP......................'
.......FINISHING CIP......................
+ cat /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/CIP.out
+ grep MB/s
+ FlushDisk
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sleep 5
+ for CONFIG in "${config_arr[@]}"
+ RESULTS=
+ READARGS='--benchmarks=readseq --use_existing_db=1 --mmap_read=0 --threads=32'
+ GEN_RESULT_PATH readseq CIP_sync 32 20000000
+ WORKLOAD=readseq
+ CONFIG=CIP_sync
+ THREAD=32
+ let KEYCOUNT=20000000/1000000
+ RESULTS=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ RESULTFILE=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/CIP_sync.out
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ echo 'RUNNING CIP_sync and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/CIP_sync.out'
RUNNING CIP_sync and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/CIP_sync.out
+ echo ...................................................
...................................................
+ export LD_PRELOAD=/usr/lib/lib_CIP_sync.so
+ LD_PRELOAD=/usr/lib/lib_CIP_sync.so
+ export LD_PRELOAD=
+ LD_PRELOAD=
+ sudo dmesg -c
+ echo '.......FINISHING CIP_sync......................'
.......FINISHING CIP_sync......................
+ cat /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/CIP_sync.out
+ grep MB/s
+ FlushDisk
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sleep 5
+ for CONFIG in "${config_arr[@]}"
+ RESULTS=
+ READARGS='--benchmarks=readseq --use_existing_db=1 --mmap_read=0 --threads=32'
+ GEN_RESULT_PATH readseq CIPI 32 20000000
+ WORKLOAD=readseq
+ CONFIG=CIPI
+ THREAD=32
+ let KEYCOUNT=20000000/1000000
+ RESULTS=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ RESULTFILE=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/CIPI.out
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32
+ echo 'RUNNING CIPI and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/CIPI.out'
RUNNING CIPI and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/CIPI.out
+ echo ...................................................
...................................................
+ export LD_PRELOAD=/usr/lib/lib_CIPI.so
+ LD_PRELOAD=/usr/lib/lib_CIPI.so
+ export LD_PRELOAD=
+ LD_PRELOAD=
+ sudo dmesg -c
+ echo '.......FINISHING CIPI......................'
.......FINISHING CIPI......................
+ cat /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readseq/32/CIPI.out
+ grep MB/s
+ FlushDisk
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sleep 5
+ for WORKLOAD in "${workload_arr[@]}"
+ for CONFIG in "${config_arr[@]}"
+ RESULTS=
+ READARGS='--benchmarks=readrandom --use_existing_db=1 --mmap_read=0 --threads=32'
+ GEN_RESULT_PATH readrandom Cross_Info 32 20000000
+ WORKLOAD=readrandom
+ CONFIG=Cross_Info
+ THREAD=32
+ let KEYCOUNT=20000000/1000000
+ RESULTS=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readrandom/32
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readrandom/32
+ RESULTFILE=/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readrandom/32/Cross_Info.out
+ mkdir -p /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readrandom/32
+ echo 'RUNNING Cross_Info and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readrandom/32/Cross_Info.out'
RUNNING Cross_Info and writing results to #/users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readrandom/32/Cross_Info.out
+ echo ...................................................
...................................................
+ export LD_PRELOAD=/usr/lib/lib_Cross_Info.so
+ LD_PRELOAD=/usr/lib/lib_Cross_Info.so
+ export LD_PRELOAD=
+ LD_PRELOAD=
+ sudo dmesg -c
+ echo '.......FINISHING Cross_Info......................'
.......FINISHING Cross_Info......................
+ cat /users/kannan11/ssd/prefetching/results/SUDARSUN-PAPER-LOCAL-Sep16-CLEMSON-PREDICT-OCT7/ROCKSDB/20M-KEYS/readrandom/32/Cross_Info.out
+ grep MB/s
+ FlushDisk
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'
+ sudo sh -c sync
+ sleep 5
